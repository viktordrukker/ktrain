PORT=3000
NODE_ENV=production
APP_ENV=production
# -----------------------------------------------------------------------------
# Bootstrap/runtime minimums
# -----------------------------------------------------------------------------
# REQUIRED: master key for encrypting secrets at rest (32+ bytes recommended).
# Example generation:
#   openssl rand -base64 32
KTRAIN_MASTER_KEY=
# REQUIRED bootstrap DB locator. Can be sqlite path or postgres URL.
# Examples:
#   /data/ktrain.sqlite
#   postgres://user:pass@host:5432/dbname
KTRAIN_BOOTSTRAP_DB=/data/ktrain.sqlite

# Database runtime selection
DB_DRIVER=sqlite
DB_RUNTIME_CONFIG_PATH=/data/runtime-db.json
DB_SWITCH_DUMP_DIR=/data/db-switch
DB_SWITCH_RESTART_CMD=
DB_SWITCH_POSTGRES_UP_CMD=
DB_SWITCH_AUDIT_LOG=/data/db-switch/switch-audit.log

# SQLite
SQLITE_PATH=/data/ktrain.sqlite

# Postgres (optional)
POSTGRES_HOST=ktrain_postgres
POSTGRES_PORT=5432
POSTGRES_DB=ktrain
POSTGRES_USER=ktrain
POSTGRES_PASSWORD=change-me

# App
OPENAI_MODEL=gpt-4o-mini
APP_BASE_URL=http://localhost:3000
APP_MODE=info
APP_VERSION=0.0.0
APP_BUILD=0
APP_COMMIT=unknown
GOOGLE_CLIENT_ID=
# NOTE: Google client secret is intentionally not stored in env by default.
# It is expected to be managed from Admin settings and encrypted in DB.
SESSION_COOKIE_NAME=ktrain_session
SESSION_TTL_MS=2592000000
ADVANCED_DEBUG_TTL_MINUTES=30
CRASH_REPORTS_DIR=/data/crash-reports
CRASH_ALERT_EMAILS=
OWNER_EMAIL=
AUTH_TRUST_PROXY=true
AUTH_TRUSTED_PROXY_IPS=
AUTH_OWNER_GROUPS=owners
AUTH_ADMIN_GROUPS=admins,ldap-admins
AUTH_MODERATOR_GROUPS=moderators
